<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>

    <style>
      table {
        border-spacing: 0;
        border-collapse: collapse;
      }
      thead th,
      tbody td {
        border: 1px solid black;
      }
    </style>
  </head>
  <body>
    <table>
      <thead>
        <tr>
          <th>이동</th>
          <th>번호</th>
          <th>이름</th>
          <th>내용</th>
          <th>날짜</th>
        </tr>
      </thead>

      <tbody class="table">
        <tr>
          <td>
            <button onclick="down(this)">↓</button>
            <button onclick="up(this)">↑</button>
          </td>
          <td>1</td>
          <td>홍길자</td>
          <td>안녕!</td>
          <td>2019-01-01</td>
        </tr>
        <tr>
          <td>
            <button onclick="down(this)">↓</button>
            <button onclick="up(this)">↑</button>
          </td>
          <td>2</td>
          <td>이순신</td>
          <td>반가워</td>
          <td>2019-02-01</td>
        </tr>
        <tr>
          <td>
            <button onclick="down(this)">↓</button>
            <button onclick="up(this)">↑</button>
          </td>
          <td>3</td>
          <td>이순신</td>
          <td>반가워</td>
          <td>2019-02-01</td>
        </tr>
        <tr>
          <td>
            <button onclick="down(this)">↓</button>
            <button onclick="up(this)">↑</button>
          </td>
          <td>4</td>
          <td>이순신</td>
          <td>반가워</td>
          <td>2019-02-01</td>
        </tr>
        <tr>
          <td>
            <button onclick="down(this)">↓</button>
            <button onclick="up(this)">↑</button>
          </td>
          <td>5</td>
          <td>이순신</td>
          <td>반가워</td>
          <td>2019-02-01</td>
        </tr>
      </tbody>
    </table>
    <script>
      function down(x) {
        // console.dir(x); // 사용 할 수 있는 속성이 나온다아

        // console.log(x); // 자신
        // console.log(x.parentElement); // 태그 형태만 (Element이름이 들어간 속성 사용)
        // console.log(x.parentNode); // 문자열 노드가 있다면 문자열 선택 (현재 : null)

        // console.log(x.nextElementSibling); // 다음 형제 노드 (현재 : btn)
        // console.log(x.previousElementSibling); // 이전 형제 노드 (현재 : null)

        // console.log(x.parentElement.children); // 현재 td의 자식들(현재 : 버튼 2개)
        // console.log(x.parentElement.parentElement.firstElementChild); // tr의 첫번째 자식
        // console.log(x.parentElement.parentElement.lastElementChild); // tr의 마지막 자식

        // 부모 노드
        var tbody = document.querySelector(".table");

        // 삽입 노드 (현재 행)
        var current = x.parentElement.parentElement; // -> 2번 내려감 - tr

        // 이전 노드
        var next = current.nextElementSibling; // 이전 행

        if (next === null) {
          alert("가장 마지막 행 입니다");
          return; // 함수 종료
        }

        // console.log(current, prev);
        // 부모님태그.insertBefore(삽입노드, 기준이 될 노드) 기준노드 앞에 삽입노드 이동
        tbody.insertBefore(next, current);
      }

      function up(x) {
        // 부모 노드
        var tbody = document.querySelector(".table");

        // 삽입 노드
        var current = x.parentElement.parentElement; // -> 2번 올라감 - tr

        // 이전 노드
        var prev = current.previousElementSibling; // 이전 행

        if (prev === null) {
          alert("가장 처음 행 입니다");
          return; // 함수 종료
        }

        // console.log(current, prev);
        // 부모님태그.insertBefore(삽입노드, 기준이 될 노드) 기준노드 앞에 삽입노드 이동
        tbody.insertBefore(current, prev);
      }
    </script>
  </body>
</html>
