<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <form name="actionForm">
      이름 : <input type="text" name="id" onkeypress="enterFunc()" /> 비밀번호 :
      <input type="password" name="pw" onkeypress="enterFunc()" />

      <!-- form 안에 button은 submit이 일어난다. type="button"을 사용해야 합니다. -->
      <button type="button" id="btn" onclick="joinCheck()">가입</button>
    </form>

    <script>
      function joinCheck() {
        var id = document.actionForm.id.value;
        var pw = document.actionForm.pw.value;
        var regEx1 = /^[a-z]+[a-z0-9]{5,19}$/; // 소문자, 숫자 5~19
        var regEx2 =
          /^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{8,}$/; // 대문자, 소문자, 특수문자

        if (!regEx1.test(id)) {
          alert(
            "아이디는 소문자로 시작하고 소문자와 숫자로 이루어진 5~19글자여야 합니다."
          );
          return;
        } else if (!regEx2.test(pw)) {
          alert(
            "비밀번호는 8글자이상, 최소 한개 이상의 대문자, 소문자, 숫자, 특수문자 포합입니다"
          );
          return;
        }
        document.actionForm.submit();
      }
      function enterFunc() {
        // console.log(event);

        // 사용자 앤터
        if (event.keyCode == 13) {
          joinCheck();
        }
      }
    </script>
  </body>
</html>
